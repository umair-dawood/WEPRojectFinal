{"ast":null,"code":"import { jsPDF } from \"jspdf\";\nconst OutputType = {\n  Save: \"save\",\n  //save pdf as a file\n  DataUriString: \"datauristring\",\n  //returns the data uri string\n  DataUri: \"datauri\",\n  //opens the data uri in current window\n  DataUrlNewWindow: \"dataurlnewwindow\",\n  //opens the data uri in new window\n  Blob: \"blob\",\n  //return blob format of the doc,\n  ArrayBuffer: \"arraybuffer\" //return ArrayBuffer format\n\n};\nexport { OutputType, jsPDF };\n\nfunction PrintInvoice(props) {\n  var _props$logo, _props$logo2, _props$logo3, _props$logo4, _props$logo4$margin, _props$logo5, _props$logo5$margin, _props$business, _props$business2, _props$business3, _props$business4, _props$business5, _props$business6, _props$contact, _props$contact2, _props$contact3, _props$contact4, _props$contact5, _props$contact6, _props$invoice, _props$invoice2, _props$invoice3, _props$invoice4, _props$invoice5, _props$invoice6, _props$invoice7, _props$invoice8, _props$invoice9, _props$invoice10, _props$invoice11, _props$invoice12, _props$invoice13, _props$invoice14, _props$invoice14$row, _props$invoice15, _props$invoice15$row, _props$invoice16, _props$invoice16$row, _props$invoice17, _props$invoice17$row, _props$invoice17$row$, _props$invoice18, _props$invoice18$row, _props$invoice19, _props$invoice19$row, _props$invoice20, _props$invoice20$row, _props$invoice21, _props$invoice21$row, _props$invoice21$row$, _props$footer;\n\n  const param = {\n    outputType: props.outputType || \"save\",\n    returnJsPDFDocObject: props.returnJsPDFDocObject || false,\n    fileName: props.fileName || \"\",\n    orientationLandscape: props.orientationLandscape || false,\n    logo: {\n      src: ((_props$logo = props.logo) === null || _props$logo === void 0 ? void 0 : _props$logo.src) || \"\",\n      width: ((_props$logo2 = props.logo) === null || _props$logo2 === void 0 ? void 0 : _props$logo2.width) || \"\",\n      height: ((_props$logo3 = props.logo) === null || _props$logo3 === void 0 ? void 0 : _props$logo3.height) || \"\",\n      margin: {\n        top: ((_props$logo4 = props.logo) === null || _props$logo4 === void 0 ? void 0 : (_props$logo4$margin = _props$logo4.margin) === null || _props$logo4$margin === void 0 ? void 0 : _props$logo4$margin.top) || 0,\n        left: ((_props$logo5 = props.logo) === null || _props$logo5 === void 0 ? void 0 : (_props$logo5$margin = _props$logo5.margin) === null || _props$logo5$margin === void 0 ? void 0 : _props$logo5$margin.left) || 0\n      }\n    },\n    business: {\n      name: ((_props$business = props.business) === null || _props$business === void 0 ? void 0 : _props$business.name) || \"\",\n      address: ((_props$business2 = props.business) === null || _props$business2 === void 0 ? void 0 : _props$business2.address) || \"\",\n      phone: ((_props$business3 = props.business) === null || _props$business3 === void 0 ? void 0 : _props$business3.phone) || \"\",\n      email: ((_props$business4 = props.business) === null || _props$business4 === void 0 ? void 0 : _props$business4.email) || \"\",\n      email_1: ((_props$business5 = props.business) === null || _props$business5 === void 0 ? void 0 : _props$business5.email_1) || \"\",\n      website: ((_props$business6 = props.business) === null || _props$business6 === void 0 ? void 0 : _props$business6.website) || \"\"\n    },\n    contact: {\n      label: ((_props$contact = props.contact) === null || _props$contact === void 0 ? void 0 : _props$contact.label) || \"\",\n      name: ((_props$contact2 = props.contact) === null || _props$contact2 === void 0 ? void 0 : _props$contact2.name) || \"\",\n      address: ((_props$contact3 = props.contact) === null || _props$contact3 === void 0 ? void 0 : _props$contact3.address) || \"\",\n      phone: ((_props$contact4 = props.contact) === null || _props$contact4 === void 0 ? void 0 : _props$contact4.phone) || \"\",\n      email: ((_props$contact5 = props.contact) === null || _props$contact5 === void 0 ? void 0 : _props$contact5.email) || \"\",\n      otherInfo: ((_props$contact6 = props.contact) === null || _props$contact6 === void 0 ? void 0 : _props$contact6.otherInfo) || \"\"\n    },\n    invoice: {\n      label: ((_props$invoice = props.invoice) === null || _props$invoice === void 0 ? void 0 : _props$invoice.label) || \"\",\n      invTotalLabel: ((_props$invoice2 = props.invoice) === null || _props$invoice2 === void 0 ? void 0 : _props$invoice2.invTotalLabel) || \"\",\n      num: ((_props$invoice3 = props.invoice) === null || _props$invoice3 === void 0 ? void 0 : _props$invoice3.num) || \"\",\n      invDate: ((_props$invoice4 = props.invoice) === null || _props$invoice4 === void 0 ? void 0 : _props$invoice4.invDate) || \"\",\n      invGenDate: ((_props$invoice5 = props.invoice) === null || _props$invoice5 === void 0 ? void 0 : _props$invoice5.invGenDate) || \"\",\n      headerBorder: ((_props$invoice6 = props.invoice) === null || _props$invoice6 === void 0 ? void 0 : _props$invoice6.headerBorder) || false,\n      tableBodyBorder: ((_props$invoice7 = props.invoice) === null || _props$invoice7 === void 0 ? void 0 : _props$invoice7.tableBodyBorder) || false,\n      header: ((_props$invoice8 = props.invoice) === null || _props$invoice8 === void 0 ? void 0 : _props$invoice8.header) || [],\n      table: ((_props$invoice9 = props.invoice) === null || _props$invoice9 === void 0 ? void 0 : _props$invoice9.table) || [],\n      invTotal: ((_props$invoice10 = props.invoice) === null || _props$invoice10 === void 0 ? void 0 : _props$invoice10.invTotal) || \"\",\n      invCurrency: ((_props$invoice11 = props.invoice) === null || _props$invoice11 === void 0 ? void 0 : _props$invoice11.invCurrency) || \"\",\n      invDescLabel: ((_props$invoice12 = props.invoice) === null || _props$invoice12 === void 0 ? void 0 : _props$invoice12.invDescLabel) || \"\",\n      invDesc: ((_props$invoice13 = props.invoice) === null || _props$invoice13 === void 0 ? void 0 : _props$invoice13.invDesc) || \"\",\n      row1: {\n        col1: ((_props$invoice14 = props.invoice) === null || _props$invoice14 === void 0 ? void 0 : (_props$invoice14$row = _props$invoice14.row1) === null || _props$invoice14$row === void 0 ? void 0 : _props$invoice14$row.col1) || \"\",\n        col2: ((_props$invoice15 = props.invoice) === null || _props$invoice15 === void 0 ? void 0 : (_props$invoice15$row = _props$invoice15.row1) === null || _props$invoice15$row === void 0 ? void 0 : _props$invoice15$row.col2) || \"\",\n        col3: ((_props$invoice16 = props.invoice) === null || _props$invoice16 === void 0 ? void 0 : (_props$invoice16$row = _props$invoice16.row1) === null || _props$invoice16$row === void 0 ? void 0 : _props$invoice16$row.col3) || \"\",\n        style: {\n          fontSize: ((_props$invoice17 = props.invoice) === null || _props$invoice17 === void 0 ? void 0 : (_props$invoice17$row = _props$invoice17.row1) === null || _props$invoice17$row === void 0 ? void 0 : (_props$invoice17$row$ = _props$invoice17$row.style) === null || _props$invoice17$row$ === void 0 ? void 0 : _props$invoice17$row$.fontSize) || 12\n        }\n      },\n      row2: {\n        col1: ((_props$invoice18 = props.invoice) === null || _props$invoice18 === void 0 ? void 0 : (_props$invoice18$row = _props$invoice18.row2) === null || _props$invoice18$row === void 0 ? void 0 : _props$invoice18$row.col1) || \"\",\n        col2: ((_props$invoice19 = props.invoice) === null || _props$invoice19 === void 0 ? void 0 : (_props$invoice19$row = _props$invoice19.row2) === null || _props$invoice19$row === void 0 ? void 0 : _props$invoice19$row.col2) || \"\",\n        col3: ((_props$invoice20 = props.invoice) === null || _props$invoice20 === void 0 ? void 0 : (_props$invoice20$row = _props$invoice20.row2) === null || _props$invoice20$row === void 0 ? void 0 : _props$invoice20$row.col3) || \"\",\n        style: {\n          fontSize: ((_props$invoice21 = props.invoice) === null || _props$invoice21 === void 0 ? void 0 : (_props$invoice21$row = _props$invoice21.row2) === null || _props$invoice21$row === void 0 ? void 0 : (_props$invoice21$row$ = _props$invoice21$row.style) === null || _props$invoice21$row$ === void 0 ? void 0 : _props$invoice21$row$.fontSize) || 12\n        }\n      }\n    },\n    footer: {\n      text: ((_props$footer = props.footer) === null || _props$footer === void 0 ? void 0 : _props$footer.text) || \"\"\n    },\n    pageEnable: props.pageEnable || false,\n    pageLabel: props.pageLabel || \"Page\"\n  };\n\n  const splitTextAndGetHeight = (text, size) => {\n    var lines = doc.splitTextToSize(text, size);\n    return {\n      text: lines,\n      height: doc.getTextDimensions(lines).h\n    };\n  };\n\n  if (param.invoice.table && param.invoice.table.length) {\n    if (param.invoice.table[0].length != param.invoice.header.length) throw Error(\"Length of header and table column must be equal.\");\n  }\n\n  const options = {\n    orientation: param.orientationLandscape ? \"landscape\" : \"\"\n  };\n  var doc = new jsPDF(options);\n  var docWidth = doc.internal.pageSize.width;\n  var docHeight = doc.internal.pageSize.height;\n  var colorBlack = \"#000000\";\n  var colorGray = \"#4d4e53\"; //starting at 15mm\n\n  var currentHeight = 15; //var startPointRectPanel1 = currentHeight + 6;\n\n  var pdfConfig = {\n    headerTextSize: 20,\n    labelTextSize: 12,\n    fieldTextSize: 10,\n    lineHeight: 6,\n    subLineHeight: 4\n  };\n  doc.setFontSize(pdfConfig.headerTextSize);\n  doc.setTextColor(colorBlack);\n  doc.text(docWidth - 10, currentHeight, param.business.name, \"right\");\n  doc.setFontSize(pdfConfig.fieldTextSize);\n\n  if (param.logo.src) {\n    var imageHeader = new Image();\n    imageHeader.src = param.logo.src; //doc.text(htmlDoc.sessionDateText, docWidth - (doc.getTextWidth(htmlDoc.sessionDateText) + 10), currentHeight);\n\n    doc.addImage(imageHeader, 10 + param.logo.margin.left, currentHeight - 5 + param.logo.margin.top, param.logo.width, param.logo.height);\n  }\n\n  doc.setTextColor(colorGray);\n  currentHeight += pdfConfig.subLineHeight;\n  currentHeight += pdfConfig.subLineHeight;\n  doc.text(docWidth - 10, currentHeight, param.business.address, \"right\");\n  currentHeight += pdfConfig.subLineHeight;\n  doc.text(docWidth - 10, currentHeight, param.business.phone, \"right\");\n  doc.setFontSize(pdfConfig.fieldTextSize); // doc.setTextColor(colorGray);\n\n  currentHeight += pdfConfig.subLineHeight;\n  doc.text(docWidth - 10, currentHeight, param.business.email, \"right\");\n  currentHeight += pdfConfig.subLineHeight;\n  doc.text(docWidth - 10, currentHeight, param.business.email_1, \"right\");\n  currentHeight += pdfConfig.subLineHeight;\n  doc.text(docWidth - 10, currentHeight, param.business.website, \"right\"); //line breaker after logo & business info\n\n  if (param.invoice.header.length) {\n    currentHeight += pdfConfig.subLineHeight;\n    doc.line(10, currentHeight, docWidth - 10, currentHeight);\n  } //Contact part\n\n\n  doc.setTextColor(colorGray);\n  doc.setFontSize(pdfConfig.fieldTextSize);\n  currentHeight += pdfConfig.lineHeight;\n\n  if (param.contact.label) {\n    doc.text(10, currentHeight, param.contact.label);\n    currentHeight += pdfConfig.lineHeight;\n  }\n\n  doc.setTextColor(colorBlack);\n  doc.setFontSize(pdfConfig.headerTextSize - 5);\n  if (param.contact.name) doc.text(10, currentHeight, param.contact.name);\n\n  if (param.invoice.label && param.invoice.num) {\n    doc.text(docWidth - 10, currentHeight, param.invoice.label + param.invoice.num, \"right\");\n  }\n\n  if (param.contact.name || param.invoice.label && param.invoice.num) currentHeight += pdfConfig.subLineHeight;\n  doc.setTextColor(colorGray);\n  doc.setFontSize(pdfConfig.fieldTextSize - 2);\n\n  if (param.contact.address || param.invoice.invDate) {\n    doc.text(10, currentHeight, param.contact.address);\n    doc.text(docWidth - 10, currentHeight, param.invoice.invDate, \"right\");\n    currentHeight += pdfConfig.subLineHeight;\n  }\n\n  if (param.contact.phone || param.invoice.invGenDate) {\n    doc.text(10, currentHeight, param.contact.phone);\n    doc.text(docWidth - 10, currentHeight, param.invoice.invGenDate, \"right\");\n    currentHeight += pdfConfig.subLineHeight;\n  }\n\n  if (param.contact.email) {\n    doc.text(10, currentHeight, param.contact.email);\n    currentHeight += pdfConfig.subLineHeight;\n  }\n\n  if (param.contact.otherInfo) doc.text(10, currentHeight, param.contact.otherInfo);else currentHeight -= pdfConfig.subLineHeight; //end contact part\n  //TABLE PART\n  //var tdWidth = 31.66;\n  //10 margin left - 10 margin right\n\n  var tdWidth = (doc.getPageWidth() - 20) / param.invoice.header.length;\n\n  var addTableHeaderBoarder = () => {\n    currentHeight += 2;\n\n    for (let i = 0; i < param.invoice.header.length; i++) {\n      if (i === 0) doc.rect(10, currentHeight, tdWidth, 7);else doc.rect(tdWidth * i + 10, currentHeight, tdWidth, 7);\n    }\n\n    currentHeight -= 2;\n  };\n\n  var addTableBodyBoarder = lineHeight => {\n    for (let i = 0; i < param.invoice.header.length; i++) {\n      if (i === 0) doc.rect(10, currentHeight, tdWidth, lineHeight);else doc.rect(tdWidth * i + 10, currentHeight, tdWidth, lineHeight);\n    }\n  };\n\n  var addTableHeader = () => {\n    if (param.invoice.headerBorder) addTableHeaderBoarder();\n    currentHeight += pdfConfig.subLineHeight;\n    doc.setTextColor(colorBlack);\n    doc.setFontSize(pdfConfig.fieldTextSize); //border color\n\n    doc.setDrawColor(colorGray);\n    currentHeight += 2;\n    param.invoice.header.forEach(function (row, index) {\n      if (index == 0) doc.text(row, 11, currentHeight);else doc.text(row, index * tdWidth + 11, currentHeight);\n    });\n    currentHeight += pdfConfig.subLineHeight - 1;\n    doc.setTextColor(colorGray);\n  };\n\n  addTableHeader(); //table body\n\n  var tableBodyLength = param.invoice.table.length;\n  param.invoice.table.forEach(function (row, index) {\n    doc.line(10, currentHeight, docWidth - 10, currentHeight); //get nax height for the current row\n\n    let rowsHeight = [];\n\n    var getRowsHeight = function () {\n      row.forEach(function (rr, index) {\n        //size should be the same used in other td\n        let item = splitTextAndGetHeight(rr.toString(), tdWidth - 1); //minus 1, to fix the padding issue between borders\n\n        rowsHeight.push(item.height);\n      });\n    };\n\n    getRowsHeight();\n    var maxHeight = Math.max(...rowsHeight); //body borders\n\n    if (param.invoice.tableBodyBorder) addTableBodyBoarder(maxHeight + 1); //display text into row cells\n    //Object.entries(row).forEach(function(col, index) {\n\n    row.forEach(function (rr, index) {\n      let item = splitTextAndGetHeight(rr.toString(), tdWidth - 1); //minus 1, to fix the padding issue between borders\n\n      if (index == 0) doc.text(item.text, 11, currentHeight + 4);else doc.text(item.text, 11 + index * tdWidth, currentHeight + 4);\n    });\n    currentHeight += maxHeight - 4; //td border height\n\n    currentHeight += 5; //pre-increase currentHeight to check the height based on next row\n\n    if (index + 1 < tableBodyLength) currentHeight += maxHeight;\n\n    if (param.orientationLandscape && (currentHeight > 185 || currentHeight > 178 && doc.getNumberOfPages() > 1)) {\n      doc.addPage();\n      currentHeight = 10;\n      if (index + 1 < tableBodyLength) addTableHeader();\n    }\n\n    if (!param.orientationLandscape && (currentHeight > 265 || currentHeight > 255 && doc.getNumberOfPages() > 1)) {\n      doc.addPage();\n      currentHeight = 10;\n      if (index + 1 < tableBodyLength) addTableHeader(); //       else\n      //         currentHeight += pdfConfig.subLineHeight + 2 + pdfConfig.subLineHeight - 1; //same as in addtableHeader\n    } //reset the height that was increased to check the next row\n\n\n    if (index + 1 < tableBodyLength && currentHeight > 30) // check if new page\n      currentHeight -= maxHeight;\n  }); //     doc.line(10, currentHeight, docWidth - 10, currentHeight); //nese duam te shfaqim line ne fund te tabeles\n\n  var invDescSize = splitTextAndGetHeight(param.invoice.invDesc, docWidth / 2).height; //END TABLE PART\n\n  if (param.orientationLandscape && currentHeight + invDescSize > 173) {\n    doc.addPage();\n    currentHeight = 10;\n  }\n\n  if (!param.orientationLandscape && currentHeight + invDescSize > 270) {\n    doc.addPage();\n    currentHeight = 10;\n  }\n\n  doc.setTextColor(colorBlack);\n  doc.setFontSize(pdfConfig.labelTextSize);\n  currentHeight += pdfConfig.lineHeight; //line breaker before invoce total\n\n  if (param.invoice.header.length && (param.invoice.invTotal || param.invoice.invTotalLabel || param.invoice.invCurrency)) {\n    doc.line(docWidth / 2, currentHeight, docWidth - 10, currentHeight);\n    currentHeight += pdfConfig.lineHeight;\n  } //     doc.text(\"Faleminderit!\", 10, currentHeight);\n\n\n  doc.text(docWidth / 1.5, currentHeight, param.invoice.invTotalLabel, \"right\");\n  doc.text(docWidth - 25, currentHeight, param.invoice.invTotal, \"right\");\n  doc.text(docWidth - 10, currentHeight, param.invoice.invCurrency, \"right\"); //row1\n\n  if (param.invoice.row1 && (param.invoice.row1.col1 || param.invoice.row1.col2 || param.invoice.row1.col3)) {\n    currentHeight += pdfConfig.lineHeight;\n    doc.setFontSize(param.invoice.row1.style.fontSize);\n    doc.text(docWidth / 1.5, currentHeight, param.invoice.row1.col1, \"right\");\n    doc.text(docWidth - 25, currentHeight, param.invoice.row1.col2, \"right\");\n    doc.text(docWidth - 10, currentHeight, param.invoice.row1.col3, \"right\");\n  } //end row1\n  //row2\n\n\n  if (param.invoice.row2 && (param.invoice.row2.col1 || param.invoice.row2.col2 || param.invoice.row2.col3)) {\n    currentHeight += pdfConfig.lineHeight;\n    doc.setFontSize(param.invoice.row2.style.fontSize);\n    doc.text(docWidth / 1.5, currentHeight, param.invoice.row2.col1, \"right\");\n    doc.text(docWidth - 25, currentHeight, param.invoice.row2.col2, \"right\");\n    doc.text(docWidth - 10, currentHeight, param.invoice.row2.col3, \"right\");\n  } //end row2\n\n\n  if (param.orientationLandscape && currentHeight + invDescSize > 173) {\n    doc.addPage();\n    currentHeight = 10;\n  }\n\n  if (!param.orientationLandscape && currentHeight + invDescSize > 270) {\n    doc.addPage();\n    currentHeight = 10;\n  }\n\n  doc.setTextColor(colorBlack);\n  currentHeight += pdfConfig.subLineHeight;\n  currentHeight += pdfConfig.subLineHeight; //   currentHeight += pdfConfig.subLineHeight;\n\n  doc.setFontSize(pdfConfig.labelTextSize); //add num of pages at the bottom\n\n  if (doc.getNumberOfPages() > 1) {\n    for (let i = 1; i <= doc.getNumberOfPages(); i++) {\n      doc.setFontSize(pdfConfig.fieldTextSize - 2);\n      doc.setTextColor(colorGray);\n\n      if (param.pageEnable) {\n        doc.text(docWidth / 2, docHeight - 10, param.footer.text, \"center\");\n        doc.setPage(i);\n        doc.text(param.pageLabel + \" \" + i + \" / \" + doc.getNumberOfPages(), docWidth - 20, doc.internal.pageSize.height - 6);\n      }\n\n      if (param.orientationLandscape && currentHeight + invDescSize > 183) {\n        doc.addPage();\n        currentHeight = 10;\n      }\n\n      if (!param.orientationLandscape && currentHeight + invDescSize > 270) {\n        doc.addPage();\n        currentHeight = 10;\n      }\n    }\n  }\n\n  var addInvoiceDesc = () => {\n    doc.setFontSize(pdfConfig.labelTextSize);\n    doc.setTextColor(colorBlack);\n    doc.text(param.invoice.invDescLabel, 10, currentHeight);\n    currentHeight += pdfConfig.subLineHeight;\n    doc.setTextColor(colorGray);\n    doc.setFontSize(pdfConfig.fieldTextSize - 1);\n    var lines = doc.splitTextToSize(param.invoice.invDesc, docWidth / 2); //text in left half\n\n    doc.text(lines, 10, currentHeight);\n    currentHeight += doc.getTextDimensions(lines).h > 5 ? doc.getTextDimensions(lines).h + 6 : pdfConfig.lineHeight;\n    return currentHeight;\n  };\n\n  addInvoiceDesc(); //add num of page at the bottom\n\n  if (doc.getNumberOfPages() === 1 && param.pageEnable) {\n    doc.setFontSize(pdfConfig.fieldTextSize - 2);\n    doc.setTextColor(colorGray);\n    doc.text(docWidth / 2, docHeight - 10, param.footer.text, \"center\");\n    doc.text(param.pageLabel + \"1 / 1\", docWidth - 20, doc.internal.pageSize.height - 6);\n  }\n\n  let returnObj = {\n    pagesNumber: getNumberOfPages()\n  };\n\n  if (param.returnJsPDFDocObject) {\n    returnObj = { ...returnObj,\n      jsPDFDocObject: doc\n    };\n  }\n\n  if (param.outputType === \"save\") doc.save(param.fileName);else if (param.outputType === \"blob\") {\n    const blobOutput = doc.output(\"blob\");\n    returnObj = { ...returnObj,\n      blob: blobOutput\n    };\n  } else if (param.outputType === \"datauristring\") {\n    returnObj = { ...returnObj,\n      dataUriString: doc.output(\"datauristring\", {\n        filename: param.fileName\n      })\n    };\n  } else if (param.outputType === \"arraybuffer\") {\n    returnObj = { ...returnObj,\n      arrayBuffer: doc.output(\"arraybuffer\")\n    };\n  } else doc.output(param.outputType, {\n    filename: param.fileName\n  });\n  return returnObj;\n}\n\n_c = PrintInvoice;\nexport default PrintInvoice;\n\nvar _c;\n\n$RefreshReg$(_c, \"PrintInvoice\");","map":{"version":3,"sources":["/Users/maazasim/homeelectronics/src/Components/PrintInvoice.js"],"names":["jsPDF","OutputType","Save","DataUriString","DataUri","DataUrlNewWindow","Blob","ArrayBuffer","PrintInvoice","props","param","outputType","returnJsPDFDocObject","fileName","orientationLandscape","logo","src","width","height","margin","top","left","business","name","address","phone","email","email_1","website","contact","label","otherInfo","invoice","invTotalLabel","num","invDate","invGenDate","headerBorder","tableBodyBorder","header","table","invTotal","invCurrency","invDescLabel","invDesc","row1","col1","col2","col3","style","fontSize","row2","footer","text","pageEnable","pageLabel","splitTextAndGetHeight","size","lines","doc","splitTextToSize","getTextDimensions","h","length","Error","options","orientation","docWidth","internal","pageSize","docHeight","colorBlack","colorGray","currentHeight","pdfConfig","headerTextSize","labelTextSize","fieldTextSize","lineHeight","subLineHeight","setFontSize","setTextColor","imageHeader","Image","addImage","line","tdWidth","getPageWidth","addTableHeaderBoarder","i","rect","addTableBodyBoarder","addTableHeader","setDrawColor","forEach","row","index","tableBodyLength","rowsHeight","getRowsHeight","rr","item","toString","push","maxHeight","Math","max","getNumberOfPages","addPage","invDescSize","setPage","addInvoiceDesc","returnObj","pagesNumber","jsPDFDocObject","save","blobOutput","output","blob","dataUriString","filename","arrayBuffer"],"mappings":"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","sourcesContent":["import { jsPDF } from \"jspdf\";\n\nconst OutputType = {\n  Save: \"save\", //save pdf as a file\n  DataUriString: \"datauristring\", //returns the data uri string\n  DataUri: \"datauri\", //opens the data uri in current window\n  DataUrlNewWindow: \"dataurlnewwindow\", //opens the data uri in new window\n  Blob: \"blob\", //return blob format of the doc,\n  ArrayBuffer: \"arraybuffer\", //return ArrayBuffer format\n};\n\nexport { OutputType, jsPDF };\n\nfunction PrintInvoice(props) {\n  const param = {\n    outputType: props.outputType || \"save\",\n    returnJsPDFDocObject: props.returnJsPDFDocObject || false,\n    fileName: props.fileName || \"\",\n    orientationLandscape: props.orientationLandscape || false,\n    logo: {\n      src: props.logo?.src || \"\",\n      width: props.logo?.width || \"\",\n      height: props.logo?.height || \"\",\n      margin: {\n        top: props.logo?.margin?.top || 0,\n        left: props.logo?.margin?.left || 0,\n      },\n    },\n    business: {\n      name: props.business?.name || \"\",\n      address: props.business?.address || \"\",\n      phone: props.business?.phone || \"\",\n      email: props.business?.email || \"\",\n      email_1: props.business?.email_1 || \"\",\n      website: props.business?.website || \"\",\n    },\n    contact: {\n      label: props.contact?.label || \"\",\n      name: props.contact?.name || \"\",\n      address: props.contact?.address || \"\",\n      phone: props.contact?.phone || \"\",\n      email: props.contact?.email || \"\",\n      otherInfo: props.contact?.otherInfo || \"\",\n    },\n    invoice: {\n      label: props.invoice?.label || \"\",\n      invTotalLabel: props.invoice?.invTotalLabel || \"\",\n      num: props.invoice?.num || \"\",\n      invDate: props.invoice?.invDate || \"\",\n      invGenDate: props.invoice?.invGenDate || \"\",\n      headerBorder: props.invoice?.headerBorder || false,\n      tableBodyBorder: props.invoice?.tableBodyBorder || false,\n      header: props.invoice?.header || [],\n      table: props.invoice?.table || [],\n      invTotal: props.invoice?.invTotal || \"\",\n      invCurrency: props.invoice?.invCurrency || \"\",\n      invDescLabel: props.invoice?.invDescLabel || \"\",\n      invDesc: props.invoice?.invDesc || \"\",\n      row1: {\n        col1: props.invoice?.row1?.col1 || \"\",\n        col2: props.invoice?.row1?.col2 || \"\",\n        col3: props.invoice?.row1?.col3 || \"\",\n        style: {\n          fontSize: props.invoice?.row1?.style?.fontSize || 12,\n        },\n      },\n      row2: {\n        col1: props.invoice?.row2?.col1 || \"\",\n        col2: props.invoice?.row2?.col2 || \"\",\n        col3: props.invoice?.row2?.col3 || \"\",\n        style: {\n          fontSize: props.invoice?.row2?.style?.fontSize || 12,\n        },\n      },\n    },\n    footer: {\n      text: props.footer?.text || \"\",\n    },\n    pageEnable: props.pageEnable || false,\n    pageLabel: props.pageLabel || \"Page\",\n  };\n\n  const splitTextAndGetHeight = (text, size) => {\n    var lines = doc.splitTextToSize(text, size);\n    return {\n      text: lines,\n      height: doc.getTextDimensions(lines).h,\n    };\n  };\n  if (param.invoice.table && param.invoice.table.length) {\n    if (param.invoice.table[0].length != param.invoice.header.length)\n      throw Error(\"Length of header and table column must be equal.\");\n  }\n\n  const options = {\n    orientation: param.orientationLandscape ? \"landscape\" : \"\",\n  };\n\n  var doc = new jsPDF(options);\n\n  var docWidth = doc.internal.pageSize.width;\n  var docHeight = doc.internal.pageSize.height;\n\n  var colorBlack = \"#000000\";\n  var colorGray = \"#4d4e53\";\n  //starting at 15mm\n  var currentHeight = 15;\n  //var startPointRectPanel1 = currentHeight + 6;\n\n  var pdfConfig = {\n    headerTextSize: 20,\n    labelTextSize: 12,\n    fieldTextSize: 10,\n    lineHeight: 6,\n    subLineHeight: 4,\n  };\n\n  doc.setFontSize(pdfConfig.headerTextSize);\n  doc.setTextColor(colorBlack);\n  doc.text(docWidth - 10, currentHeight, param.business.name, \"right\");\n  doc.setFontSize(pdfConfig.fieldTextSize);\n\n  if (param.logo.src) {\n    var imageHeader = new Image();\n    imageHeader.src = param.logo.src;\n    //doc.text(htmlDoc.sessionDateText, docWidth - (doc.getTextWidth(htmlDoc.sessionDateText) + 10), currentHeight);\n    doc.addImage(\n      imageHeader,\n      10 + param.logo.margin.left,\n      currentHeight - 5 + param.logo.margin.top,\n      param.logo.width,\n      param.logo.height\n    );\n  }\n\n  doc.setTextColor(colorGray);\n\n  currentHeight += pdfConfig.subLineHeight;\n  currentHeight += pdfConfig.subLineHeight;\n  doc.text(docWidth - 10, currentHeight, param.business.address, \"right\");\n  currentHeight += pdfConfig.subLineHeight;\n  doc.text(docWidth - 10, currentHeight, param.business.phone, \"right\");\n  doc.setFontSize(pdfConfig.fieldTextSize);\n  // doc.setTextColor(colorGray);\n  currentHeight += pdfConfig.subLineHeight;\n  doc.text(docWidth - 10, currentHeight, param.business.email, \"right\");\n\n  currentHeight += pdfConfig.subLineHeight;\n  doc.text(docWidth - 10, currentHeight, param.business.email_1, \"right\");\n\n  currentHeight += pdfConfig.subLineHeight;\n  doc.text(docWidth - 10, currentHeight, param.business.website, \"right\");\n\n  //line breaker after logo & business info\n  if (param.invoice.header.length) {\n    currentHeight += pdfConfig.subLineHeight;\n    doc.line(10, currentHeight, docWidth - 10, currentHeight);\n  }\n\n  //Contact part\n  doc.setTextColor(colorGray);\n  doc.setFontSize(pdfConfig.fieldTextSize);\n  currentHeight += pdfConfig.lineHeight;\n  if (param.contact.label) {\n    doc.text(10, currentHeight, param.contact.label);\n    currentHeight += pdfConfig.lineHeight;\n  }\n\n  doc.setTextColor(colorBlack);\n  doc.setFontSize(pdfConfig.headerTextSize - 5);\n  if (param.contact.name) doc.text(10, currentHeight, param.contact.name);\n\n  if (param.invoice.label && param.invoice.num) {\n    doc.text(\n      docWidth - 10,\n      currentHeight,\n      param.invoice.label + param.invoice.num,\n      \"right\"\n    );\n  }\n\n  if (param.contact.name || (param.invoice.label && param.invoice.num))\n    currentHeight += pdfConfig.subLineHeight;\n\n  doc.setTextColor(colorGray);\n  doc.setFontSize(pdfConfig.fieldTextSize - 2);\n\n  if (param.contact.address || param.invoice.invDate) {\n    doc.text(10, currentHeight, param.contact.address);\n    doc.text(docWidth - 10, currentHeight, param.invoice.invDate, \"right\");\n    currentHeight += pdfConfig.subLineHeight;\n  }\n\n  if (param.contact.phone || param.invoice.invGenDate) {\n    doc.text(10, currentHeight, param.contact.phone);\n    doc.text(docWidth - 10, currentHeight, param.invoice.invGenDate, \"right\");\n    currentHeight += pdfConfig.subLineHeight;\n  }\n\n  if (param.contact.email) {\n    doc.text(10, currentHeight, param.contact.email);\n    currentHeight += pdfConfig.subLineHeight;\n  }\n\n  if (param.contact.otherInfo)\n    doc.text(10, currentHeight, param.contact.otherInfo);\n  else currentHeight -= pdfConfig.subLineHeight;\n  //end contact part\n\n  //TABLE PART\n  //var tdWidth = 31.66;\n  //10 margin left - 10 margin right\n  var tdWidth = (doc.getPageWidth() - 20) / param.invoice.header.length;\n\n  var addTableHeaderBoarder = () => {\n    currentHeight += 2;\n    for (let i = 0; i < param.invoice.header.length; i++) {\n      if (i === 0) doc.rect(10, currentHeight, tdWidth, 7);\n      else doc.rect(tdWidth * i + 10, currentHeight, tdWidth, 7);\n    }\n    currentHeight -= 2;\n  };\n  var addTableBodyBoarder = (lineHeight) => {\n    for (let i = 0; i < param.invoice.header.length; i++) {\n      if (i === 0) doc.rect(10, currentHeight, tdWidth, lineHeight);\n      else doc.rect(tdWidth * i + 10, currentHeight, tdWidth, lineHeight);\n    }\n  };\n  var addTableHeader = () => {\n    if (param.invoice.headerBorder) addTableHeaderBoarder();\n\n    currentHeight += pdfConfig.subLineHeight;\n    doc.setTextColor(colorBlack);\n    doc.setFontSize(pdfConfig.fieldTextSize);\n    //border color\n    doc.setDrawColor(colorGray);\n    currentHeight += 2;\n\n    param.invoice.header.forEach(function (row, index) {\n      if (index == 0) doc.text(row, 11, currentHeight);\n      else doc.text(row, index * tdWidth + 11, currentHeight);\n    });\n\n    currentHeight += pdfConfig.subLineHeight - 1;\n    doc.setTextColor(colorGray);\n  };\n  addTableHeader();\n\n  //table body\n  var tableBodyLength = param.invoice.table.length;\n  param.invoice.table.forEach(function (row, index) {\n    doc.line(10, currentHeight, docWidth - 10, currentHeight);\n\n    //get nax height for the current row\n    let rowsHeight = [];\n    var getRowsHeight = function () {\n      row.forEach(function (rr, index) {\n        //size should be the same used in other td\n        let item = splitTextAndGetHeight(rr.toString(), tdWidth - 1); //minus 1, to fix the padding issue between borders\n        rowsHeight.push(item.height);\n      });\n    };\n    getRowsHeight();\n    var maxHeight = Math.max(...rowsHeight);\n\n    //body borders\n    if (param.invoice.tableBodyBorder) addTableBodyBoarder(maxHeight + 1);\n\n    //display text into row cells\n    //Object.entries(row).forEach(function(col, index) {\n    row.forEach(function (rr, index) {\n      let item = splitTextAndGetHeight(rr.toString(), tdWidth - 1); //minus 1, to fix the padding issue between borders\n\n      if (index == 0) doc.text(item.text, 11, currentHeight + 4);\n      else doc.text(item.text, 11 + index * tdWidth, currentHeight + 4);\n    });\n\n    currentHeight += maxHeight - 4;\n\n    //td border height\n    currentHeight += 5;\n\n    //pre-increase currentHeight to check the height based on next row\n    if (index + 1 < tableBodyLength) currentHeight += maxHeight;\n\n    if (\n      param.orientationLandscape &&\n      (currentHeight > 185 ||\n        (currentHeight > 178 && doc.getNumberOfPages() > 1))\n    ) {\n      doc.addPage();\n      currentHeight = 10;\n      if (index + 1 < tableBodyLength) addTableHeader();\n    }\n\n    if (\n      !param.orientationLandscape &&\n      (currentHeight > 265 ||\n        (currentHeight > 255 && doc.getNumberOfPages() > 1))\n    ) {\n      doc.addPage();\n      currentHeight = 10;\n      if (index + 1 < tableBodyLength) addTableHeader();\n      //       else\n      //         currentHeight += pdfConfig.subLineHeight + 2 + pdfConfig.subLineHeight - 1; //same as in addtableHeader\n    }\n\n    //reset the height that was increased to check the next row\n    if (index + 1 < tableBodyLength && currentHeight > 30)\n      // check if new page\n      currentHeight -= maxHeight;\n  });\n  //     doc.line(10, currentHeight, docWidth - 10, currentHeight); //nese duam te shfaqim line ne fund te tabeles\n\n  var invDescSize = splitTextAndGetHeight(\n    param.invoice.invDesc,\n    docWidth / 2\n  ).height;\n  //END TABLE PART\n\n  if (param.orientationLandscape && currentHeight + invDescSize > 173) {\n    doc.addPage();\n    currentHeight = 10;\n  }\n\n  if (!param.orientationLandscape && currentHeight + invDescSize > 270) {\n    doc.addPage();\n    currentHeight = 10;\n  }\n\n  doc.setTextColor(colorBlack);\n  doc.setFontSize(pdfConfig.labelTextSize);\n  currentHeight += pdfConfig.lineHeight;\n\n  //line breaker before invoce total\n  if (\n    param.invoice.header.length &&\n    (param.invoice.invTotal ||\n      param.invoice.invTotalLabel ||\n      param.invoice.invCurrency)\n  ) {\n    doc.line(docWidth / 2, currentHeight, docWidth - 10, currentHeight);\n    currentHeight += pdfConfig.lineHeight;\n  }\n\n  //     doc.text(\"Faleminderit!\", 10, currentHeight);\n  doc.text(docWidth / 1.5, currentHeight, param.invoice.invTotalLabel, \"right\");\n  doc.text(docWidth - 25, currentHeight, param.invoice.invTotal, \"right\");\n  doc.text(docWidth - 10, currentHeight, param.invoice.invCurrency, \"right\");\n\n  //row1\n  if (\n    param.invoice.row1 &&\n    (param.invoice.row1.col1 ||\n      param.invoice.row1.col2 ||\n      param.invoice.row1.col3)\n  ) {\n    currentHeight += pdfConfig.lineHeight;\n    doc.setFontSize(param.invoice.row1.style.fontSize);\n\n    doc.text(docWidth / 1.5, currentHeight, param.invoice.row1.col1, \"right\");\n    doc.text(docWidth - 25, currentHeight, param.invoice.row1.col2, \"right\");\n    doc.text(docWidth - 10, currentHeight, param.invoice.row1.col3, \"right\");\n  }\n  //end row1\n\n  //row2\n  if (\n    param.invoice.row2 &&\n    (param.invoice.row2.col1 ||\n      param.invoice.row2.col2 ||\n      param.invoice.row2.col3)\n  ) {\n    currentHeight += pdfConfig.lineHeight;\n    doc.setFontSize(param.invoice.row2.style.fontSize);\n\n    doc.text(docWidth / 1.5, currentHeight, param.invoice.row2.col1, \"right\");\n    doc.text(docWidth - 25, currentHeight, param.invoice.row2.col2, \"right\");\n    doc.text(docWidth - 10, currentHeight, param.invoice.row2.col3, \"right\");\n  }\n  //end row2\n\n  if (param.orientationLandscape && currentHeight + invDescSize > 173) {\n    doc.addPage();\n    currentHeight = 10;\n  }\n\n  if (!param.orientationLandscape && currentHeight + invDescSize > 270) {\n    doc.addPage();\n    currentHeight = 10;\n  }\n\n  doc.setTextColor(colorBlack);\n  currentHeight += pdfConfig.subLineHeight;\n  currentHeight += pdfConfig.subLineHeight;\n  //   currentHeight += pdfConfig.subLineHeight;\n  doc.setFontSize(pdfConfig.labelTextSize);\n\n  //add num of pages at the bottom\n  if (doc.getNumberOfPages() > 1) {\n    for (let i = 1; i <= doc.getNumberOfPages(); i++) {\n      doc.setFontSize(pdfConfig.fieldTextSize - 2);\n      doc.setTextColor(colorGray);\n\n      if (param.pageEnable) {\n        doc.text(docWidth / 2, docHeight - 10, param.footer.text, \"center\");\n        doc.setPage(i);\n        doc.text(\n          param.pageLabel + \" \" + i + \" / \" + doc.getNumberOfPages(),\n          docWidth - 20,\n          doc.internal.pageSize.height - 6\n        );\n      }\n\n      if (param.orientationLandscape && currentHeight + invDescSize > 183) {\n        doc.addPage();\n        currentHeight = 10;\n      }\n\n      if (!param.orientationLandscape && currentHeight + invDescSize > 270) {\n        doc.addPage();\n        currentHeight = 10;\n      }\n    }\n  }\n\n  var addInvoiceDesc = () => {\n    doc.setFontSize(pdfConfig.labelTextSize);\n    doc.setTextColor(colorBlack);\n\n    doc.text(param.invoice.invDescLabel, 10, currentHeight);\n    currentHeight += pdfConfig.subLineHeight;\n    doc.setTextColor(colorGray);\n    doc.setFontSize(pdfConfig.fieldTextSize - 1);\n\n    var lines = doc.splitTextToSize(param.invoice.invDesc, docWidth / 2);\n    //text in left half\n    doc.text(lines, 10, currentHeight);\n    currentHeight +=\n      doc.getTextDimensions(lines).h > 5\n        ? doc.getTextDimensions(lines).h + 6\n        : pdfConfig.lineHeight;\n\n    return currentHeight;\n  };\n  addInvoiceDesc();\n\n  //add num of page at the bottom\n  if (doc.getNumberOfPages() === 1 && param.pageEnable) {\n    doc.setFontSize(pdfConfig.fieldTextSize - 2);\n    doc.setTextColor(colorGray);\n    doc.text(docWidth / 2, docHeight - 10, param.footer.text, \"center\");\n    doc.text(\n      param.pageLabel + \"1 / 1\",\n      docWidth - 20,\n      doc.internal.pageSize.height - 6\n    );\n  }\n\n  let returnObj = {\n    pagesNumber: getNumberOfPages(),\n  };\n\n  if (param.returnJsPDFDocObject) {\n    returnObj = {\n      ...returnObj,\n      jsPDFDocObject: doc,\n    };\n  }\n\n  if (param.outputType === \"save\") doc.save(param.fileName);\n  else if (param.outputType === \"blob\") {\n    const blobOutput = doc.output(\"blob\");\n    returnObj = {\n      ...returnObj,\n      blob: blobOutput,\n    };\n  } else if (param.outputType === \"datauristring\") {\n    returnObj = {\n      ...returnObj,\n      dataUriString: doc.output(\"datauristring\", {\n        filename: param.fileName,\n      }),\n    };\n  } else if (param.outputType === \"arraybuffer\") {\n    returnObj = {\n      ...returnObj,\n      arrayBuffer: doc.output(\"arraybuffer\"),\n    };\n  } else\n    doc.output(param.outputType, {\n      filename: param.fileName,\n    });\n\n  return returnObj;\n}\n\nexport default PrintInvoice;"]},"metadata":{},"sourceType":"module"}